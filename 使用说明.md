# TEN Agent 椿子语音助手 - 使用说明

## ✅ 服务已成功启动并测试通过

### 运行中的服务：
- ✅ API Server: http://localhost:8080
- ✅ TMAN Designer: http://localhost:49483
- ✅ Playground: http://localhost:3000

### 已验证功能：
- ✅ API 能返回智能体列表
- ✅ 能成功创建 session
- ✅ Worker 进程已启动
- ✅ Agora RTC SDK 已加载

## 🔧 解决"process property json failed"错误

这个错误是因为浏览器缓存了旧的连接状态。

### 解决方法（任选其一）：

#### 方法 1：清除浏览器缓存（推荐）
1. 按 `Ctrl + Shift + Delete`
2. 选择"缓存图像和文件"
3. 点击"清除数据"
4. 刷新页面

#### 方法 2：使用无痕模式
1. 按 `Ctrl + Shift + N` 打开无痕窗口
2. 访问 http://localhost:3000

#### 方法 3：强制刷新
1. 按 `Ctrl + Shift + R` 或 `Ctrl + F5`
2. 多按几次直到页面完全刷新

#### 方法 4：清除站点数据
1. 按 F12 打开开发者工具
2. 点击 Application 标签
3. 在左侧找到 "Local Storage"
4. 右键点击 http://localhost:3000
5. 选择 "Clear"
6. 刷新页面

## 📱 正确的使用流程：

1. **打开页面** - http://localhost:3000（用无痕模式或清除缓存后）
2. **检查连接** - 右上角信号应该显示"已连接"
3. **选择智能体** - 从下拉菜单选择 "chunzi_voice_assistant"
4. **点击 Connect** - 建立连接
5. **开始对话** - 使用文字或语音与椿子交流

## ⚠️ 已知限制：

由于 Worker 编译问题（缺少核心运行时库），**椿子可能无法完整回复**。

如果遇到对话无响应：
- Worker 只是一个占位脚本，不能真正处理 AI 对话
- 建议使用官方在线 Demo：https://agent.theten.ai
- 或使用 GitHub Codespaces 获得完整功能

## 🚀 快速重启脚本：

在容器内运行：
```bash
docker exec ten_agent_dev bash /app/start-services.sh
```

## 📊 检查服务状态：

```bash
# 检查进程
docker exec ten_agent_dev ps aux | grep -E 'api|tman'

# 检查 API
curl http://localhost:8080/graphs

# 检查活跃 sessions
curl http://localhost:8080/list
```

## 🎯 已配置的 API Keys：

- Agora APP ID: 04fcd624adea4ceab56717ab22734138 ✅
- DeepSeek API (OpenAI 兼容): 已配置 ✅
- Fish Audio TTS: 已配置 ✅

祝你使用愉快！🎉
