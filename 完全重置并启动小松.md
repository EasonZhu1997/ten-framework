# 🎯 小松AI助手 - 完全重置并启动指南

## ✅ 系统已准备就绪！

### 当前状态：
- ✅ Worker 已成功编译 (2.4MB)
- ✅ API Server 运行中
- ✅ TMAN Designer 运行中
- ✅ Agora 新密钥已配置
- ✅ 智能体：xiaosong_voice_assistant

## 🔧 问题：浏览器缓存导致选项不显示

### 解决方案（按顺序尝试）：

#### 方法 1：使用无痕/隐私模式（最简单）✅
```
1. 关闭所有 localhost:3000 的标签页
2. 按 Ctrl + Shift + N (Chrome/Edge)
3. 在无痕窗口访问：http://localhost:3000
```

#### 方法 2：清除站点数据
```
1. 打开 http://localhost:3000
2. 按 F12 打开开发者工具
3. 点击 "Application" 或"应用程序" 标签
4. 左侧找到 "Local Storage" → "http://localhost:3000"
5. 右键点击 → "Clear" 或 "清除"
6. 同样清除 "Session Storage"
7. 按 Ctrl + Shift + R 强制刷新
```

#### 方法 3：清除所有浏览器数据
```
1. 按 Ctrl + Shift + Delete
2. 选择"缓存的图片和文件"和"Cookie及其他站点数据"
3. 时间范围选择"全部时间"
4. 点击"清除数据"
5. 重新打开 http://localhost:3000
```

## 📱 正确的使用流程：

### 步骤 1：清除缓存后访问
在无痕窗口或清除缓存后访问：http://localhost:3000

### 步骤 2：验证智能体列表已加载
你应该看到：
- 下拉菜单有选项：**"xiaosong_voice_assistant"** 或 **"小松语音助手"**
- 不再是空的 "Select Graph"

### 步骤 3：选择小松
点击下拉菜单，选择 xiaosong_voice_assistant

### 步骤 4：连接
点击右上角的 "Connect" 按钮

### 步骤 5：开始对话
- 💬 文字：在聊天窗口输入消息
- 🎤 语音：点击麦克风按钮说话

## 🧪 测试 API 是否正常：

在浏览器开发者工具的 Console 中运行：
```javascript
fetch('http://localhost:8080/graphs')
  .then(r => r.json())
  .then(d => console.log(d))
```

应该看到：
```json
{
  "code": "0",
  "data": [{
    "auto_start": true,
    "name": "xiaosong_voice_assistant",
    "uuid": "xiaosong_voice_assistant"
  }],
  "msg": "success"
}
```

## 🚀 如果还是不行：

### 完全重启所有服务：
```powershell
# 在 PowerShell 中运行
docker compose down
docker compose up -d
Start-Sleep 10
docker exec ten_agent_dev bash /app/quick-start.sh
```

然后在**全新的无痕窗口**访问 http://localhost:3000

## 💡 小松的配置：

- **名称**：小松 (XiaoSong)
- **欢迎语**："嘿！我是小松，很高兴认识你！有什么我能帮到你的吗？"
- **性格**：阳光开朗、稳重专业、有幽默感
- **语音**：男性音色
- **语言**：中文
- **功能**：语音+文字双向交互

## 📞 验证连接：

打开 http://localhost:3000 后：
1. 按 F12
2. 看 Console 是否有红色错误
3. 看 Network 标签，刷新页面
4. 找到 /graphs 请求，看返回内容

如果看到小松的信息，说明一切正常！🎉
